# ---
# apiVersion: helm.toolkit.fluxcd.io/v2beta1
# kind: HelmRelease
# metadata:
#   name: freshrss
#   namespace: home
# spec:
#   interval: 5m
#   chart:
#     spec:
#       # renovate: registryUrl=https://k8s-at-home.com/charts
#       chart: freshrss
#       version: 6.0.0
#       sourceRef:
#         kind: HelmRepository
#         name: k8s-at-home-charts
#         namespace: flux-system
#       interval: 5m
#   values:
#     image:
#       repository: ghcr.io/linuxserver/freshrss
#       tag: version-1.18.1
#       pullPolicy: IfNotPresent

#     env:
#       TZ: "Europe/Berlin"

#     persistence:
#       config:
#         enabled: true
#         storageClass: "rook-ceph-block"
#         accessMode: ReadWriteOnce
#         size: 5Gi

#     ingress:
#       main:
#         enabled: true
#         ingressClassName: "traefik"
#         annotations:
#           kubernetes.io/tls-acme: "true"
#           cert-manager.io/cluster-issuer: letsencrypt-production
#           traefik.ingress.kubernetes.io/router.entrypoints: "websecure"
#           external-dns/is-public: "true"
#           external-dns.alpha.kubernetes.io/target: "ipv4.${SECRET_DOMAIN}"
#         hosts:
#           - host: "freshrss.${SECRET_DOMAIN}"
#             paths:
#               - path: /
#                 pathType: Prefix
#         tls:
#           - secretName: freshrss-cert
#             hosts:
#               - "freshrss.${SECRET_DOMAIN}"
